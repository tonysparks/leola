var b = 1;
var v = def() {
	var b = 1;
	if ( b == 1 ) return true;
	b = b + 1;
	println( "b = " + b + "  -- failed test!");
	return false;		
}

println ( v() + " b = " + b );

var x = def() {
	var y = 0;
	while(true) {
		if ( y > 2 ) {
			break;
		}
		
		y = y + 1;
		
		var f = def() { return 0; };
		f();
	}
	
	return y;
}

println ( x() );

var test2 = def() 
{
	var v = def() return 1;
	while(true) {
		if ( v() ) return v();
		println("failed test");
	}
	println("test2 invoked");
}

if ( test2() == 1 ) println("Test succeded");
else println("test failed");

var anotherArg = 0;
while( true ) {
	if ( anotherArg > 2 ) break;
	anotherArg = anotherArg + 1;
}

if ( anotherArg < 2 ) println("failed");
else println("success!");
